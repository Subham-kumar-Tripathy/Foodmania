{"ast":null,"code":"import{useState,useEffect}from'react';import Cardresto from'./Cardresto';import Shimmer from'./Shimmer';import{Link}from'react-router';import useActivestatus from'./custom hooks/useActivestatus';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Bodycontainer=()=>{const[listofrest,setlistofrest]=useState([]);const[searchtext,setsearchtext]=useState(\"\");const[filteredrest,setfilteredrest]=useState([]);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{var _json$data,_json$data$cards$,_json$data$cards$$car,_json$data$cards$$car2,_json$data$cards$$car3,_json$data$cards$$car4,_json$data2,_json$data2$cards$,_json$data2$cards$$ca,_json$data2$cards$$ca2,_json$data2$cards$$ca3,_json$data2$cards$$ca4;const data=await fetch('https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING');const json=await data.json();setlistofrest(json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:(_json$data$cards$=_json$data.cards[1])===null||_json$data$cards$===void 0?void 0:(_json$data$cards$$car=_json$data$cards$.card)===null||_json$data$cards$$car===void 0?void 0:(_json$data$cards$$car2=_json$data$cards$$car.card)===null||_json$data$cards$$car2===void 0?void 0:(_json$data$cards$$car3=_json$data$cards$$car2.gridElements)===null||_json$data$cards$$car3===void 0?void 0:(_json$data$cards$$car4=_json$data$cards$$car3.infoWithStyle)===null||_json$data$cards$$car4===void 0?void 0:_json$data$cards$$car4.restaurants);setfilteredrest(json===null||json===void 0?void 0:(_json$data2=json.data)===null||_json$data2===void 0?void 0:(_json$data2$cards$=_json$data2.cards[1])===null||_json$data2$cards$===void 0?void 0:(_json$data2$cards$$ca=_json$data2$cards$.card)===null||_json$data2$cards$$ca===void 0?void 0:(_json$data2$cards$$ca2=_json$data2$cards$$ca.card)===null||_json$data2$cards$$ca2===void 0?void 0:(_json$data2$cards$$ca3=_json$data2$cards$$ca2.gridElements)===null||_json$data2$cards$$ca3===void 0?void 0:(_json$data2$cards$$ca4=_json$data2$cards$$ca3.infoWithStyle)===null||_json$data2$cards$$ca4===void 0?void 0:_json$data2$cards$$ca4.restaurants);};const activestatus=useActivestatus();if(activestatus===false){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{children:\"OOPS you lost internet connection !!!!!!\"})});}return listofrest.length===0?/*#__PURE__*/_jsx(Shimmer,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-4 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border border-gray-300 rounded-lg text-sm p-2 w-full focus:outline-none focus:ring-2 focus:ring-pink-500\",type:\"text\",placeholder:\"Search for Restaurant\",value:searchtext,onChange:e=>setsearchtext(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition duration-300\",onClick:()=>{const filteredres=listofrest.filter(res=>res.info.name.toLowerCase().includes(searchtext.toLowerCase()));setfilteredrest(filteredres);},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-pink-200 text-pink-800 font-semibold rounded-lg border-2 border-pink-700 hover:bg-pink-300 transition duration-300\",onClick:()=>{const topRated=listofrest.filter(res=>res.info&&res.info.avgRating&&res.info.avgRating>4.5);if(topRated.length===0){alert(\"No top-rated restaurants found!\");}setfilteredrest(topRated);},children:\"\\u2B50 Top Rated Restaurants\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-6 justify-center md:justify-normal items-center pl-6\",children:filteredrest.map(restaurant=>/*#__PURE__*/_jsx(Link,{to:\"/resturant/\"+restaurant.info.id,children:/*#__PURE__*/_jsx(Cardresto,{Data:restaurant})},restaurant.info.id))})]});};export default Bodycontainer;","map":{"version":3,"names":["useState","useEffect","Cardresto","Shimmer","Link","useActivestatus","jsx","_jsx","jsxs","_jsxs","Bodycontainer","listofrest","setlistofrest","searchtext","setsearchtext","filteredrest","setfilteredrest","fetchData","_json$data","_json$data$cards$","_json$data$cards$$car","_json$data$cards$$car2","_json$data$cards$$car3","_json$data$cards$$car4","_json$data2","_json$data2$cards$","_json$data2$cards$$ca","_json$data2$cards$$ca2","_json$data2$cards$$ca3","_json$data2$cards$$ca4","data","fetch","json","cards","card","gridElements","infoWithStyle","restaurants","activestatus","children","length","className","type","placeholder","value","onChange","e","target","onClick","filteredres","filter","res","info","name","toLowerCase","includes","topRated","avgRating","alert","map","restaurant","to","id","Data"],"sources":["E:/foodproject/src/Components/Bodycontainer.jsx"],"sourcesContent":["import { useState ,useEffect } from 'react';\r\nimport Cardresto from './Cardresto'; \r\nimport Shimmer from './Shimmer';\r\nimport { Link } from 'react-router';\r\nimport useActivestatus from './custom hooks/useActivestatus';\r\n\r\n\r\nconst Bodycontainer = () => {\r\n  const[listofrest,setlistofrest]=useState([]);\r\n  const[searchtext,setsearchtext]=useState(\"\");\r\n  const[filteredrest,setfilteredrest]=useState([])\r\n  \r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    const data = await fetch(\r\n      'https://www.swiggy.com/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING'\r\n    );\r\n\r\n    const json = await data.json();\r\n    setlistofrest(json?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants);\r\n   \r\n    setfilteredrest(json?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants);\r\n  };\r\n\r\n  const activestatus=useActivestatus();\r\n  if(activestatus===false){\r\n    return(\r\n      <div>\r\n        <h1>OOPS you lost internet connection !!!!!!</h1>\r\n      </div>\r\n\r\n    )\r\n  }\r\n\r\n  return listofrest.length===0 ?<Shimmer/>:(\r\n    <div className='flex flex-col items-center'>\r\n      <div className=\"flex justify-center items-center space-x-4 p-4\">\r\n  \r\n  <div className=\"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm flex-1\">\r\n    <input\r\n      className=\"border border-gray-300 rounded-lg text-sm p-2 w-full focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n      type=\"text\"\r\n      placeholder=\"Search for Restaurant\"\r\n      value={searchtext}\r\n      onChange={(e) => setsearchtext(e.target.value)}\r\n    />\r\n    <button\r\n      className=\"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition duration-300\"\r\n      onClick={() => {\r\n        const filteredres = listofrest.filter((res) =>\r\n          res.info.name.toLowerCase().includes(searchtext.toLowerCase())\r\n        );\r\n        setfilteredrest(filteredres);\r\n      }}\r\n    >\r\n      Search\r\n    </button>\r\n  </div>\r\n\r\n\r\n  <button\r\n  className=\"px-4 py-2 bg-pink-200 text-pink-800 font-semibold rounded-lg border-2 border-pink-700 hover:bg-pink-300 transition duration-300\"\r\n  onClick={() => {\r\n    const topRated = listofrest.filter(\r\n      (res) => res.info && res.info.avgRating && res.info.avgRating > 4.5\r\n    );\r\n\r\n    if (topRated.length === 0) {\r\n      alert(\"No top-rated restaurants found!\");\r\n    }\r\n\r\n    setfilteredrest(topRated);\r\n  }}\r\n>\r\n  ‚≠ê Top Rated Restaurants\r\n</button>\r\n\r\n</div>\r\n\r\n\r\n      <div className=\"flex flex-wrap gap-6 justify-center md:justify-normal items-center pl-6\">\r\n      {filteredrest.map((restaurant) => (\r\n        <Link key={restaurant.info.id} to={\"/resturant/\"+restaurant.info.id}><Cardresto  Data={restaurant} /></Link>\r\n      ))}\r\n    </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bodycontainer;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}