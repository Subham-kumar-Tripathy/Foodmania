{"ast":null,"code":"import{useState,useEffect}from'react';import Cardresto from'./Cardresto';import Shimmer from'./Shimmer';import{Link}from'react-router';import useActivestatus from'./custom hooks/useActivestatus';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const slideshowImages=['3876105.jpg','10143605.jpg','3896166.jpg'];const Bodycontainer=()=>{const[listofrest,setlistofrest]=useState([]);const[searchtext,setsearchtext]=useState(\"\");const[filteredrest,setfilteredrest]=useState([]);const[currentSlide,setCurrentSlide]=useState(0);useEffect(()=>{fetchData();},[]);const fetchData=async()=>{var _json$data,_json$data$cards$,_json$data$cards$$car,_json$data$cards$$car2,_json$data$cards$$car3,_json$data$cards$$car4,_json$data2,_json$data2$cards$,_json$data2$cards$$ca,_json$data2$cards$$ca2,_json$data2$cards$$ca3,_json$data2$cards$$ca4;const data=await fetch('/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING');const json=await data.json();setlistofrest(json===null||json===void 0?void 0:(_json$data=json.data)===null||_json$data===void 0?void 0:(_json$data$cards$=_json$data.cards[1])===null||_json$data$cards$===void 0?void 0:(_json$data$cards$$car=_json$data$cards$.card)===null||_json$data$cards$$car===void 0?void 0:(_json$data$cards$$car2=_json$data$cards$$car.card)===null||_json$data$cards$$car2===void 0?void 0:(_json$data$cards$$car3=_json$data$cards$$car2.gridElements)===null||_json$data$cards$$car3===void 0?void 0:(_json$data$cards$$car4=_json$data$cards$$car3.infoWithStyle)===null||_json$data$cards$$car4===void 0?void 0:_json$data$cards$$car4.restaurants);setfilteredrest(json===null||json===void 0?void 0:(_json$data2=json.data)===null||_json$data2===void 0?void 0:(_json$data2$cards$=_json$data2.cards[1])===null||_json$data2$cards$===void 0?void 0:(_json$data2$cards$$ca=_json$data2$cards$.card)===null||_json$data2$cards$$ca===void 0?void 0:(_json$data2$cards$$ca2=_json$data2$cards$$ca.card)===null||_json$data2$cards$$ca2===void 0?void 0:(_json$data2$cards$$ca3=_json$data2$cards$$ca2.gridElements)===null||_json$data2$cards$$ca3===void 0?void 0:(_json$data2$cards$$ca4=_json$data2$cards$$ca3.infoWithStyle)===null||_json$data2$cards$$ca4===void 0?void 0:_json$data2$cards$$ca4.restaurants);};const activestatus=useActivestatus();if(activestatus===false){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h1\",{className:\"font-extrabold text-center mt-6\",children:\"OOPS you lost internet connection !!!!!!\"})});}const prevSlide=()=>{setCurrentSlide(prev=>prev===0?slideshowImages.length-1:prev-1);};const nextSlide=()=>{setCurrentSlide(prev=>prev===slideshowImages.length-1?0:prev+1);};return listofrest.length===0?/*#__PURE__*/_jsx(Shimmer,{}):/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-center w-full\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-6xl overflow-hidden rounded-lg mb-8 mt-6\",children:[/*#__PURE__*/_jsx(\"img\",{src:slideshowImages[currentSlide],alt:`slide-${currentSlide}`,className:\"w-full h-60 md:h-96 object-cover\"}),/*#__PURE__*/_jsx(\"button\",{onClick:prevSlide,className:\"absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70 transition\",children:\"\\u276E\"}),/*#__PURE__*/_jsx(\"button\",{onClick:nextSlide,className:\"absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70 transition\",children:\"\\u276F\"}),/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2\",children:slideshowImages.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setCurrentSlide(index),className:`w-3 h-3 rounded-full ${index===currentSlide?'bg-pink-500':'bg-gray-300'}`},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center space-x-4 p-4 w-full max-w-6xl\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm flex-1\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"border border-gray-300 rounded-lg text-sm p-2 w-full focus:outline-none focus:ring-2 focus:ring-pink-500\",type:\"text\",placeholder:\"Search for Restaurant\",value:searchtext,onChange:e=>setsearchtext(e.target.value)}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition duration-300\",onClick:()=>{const filteredres=listofrest.filter(res=>res.info.name.toLowerCase().includes(searchtext.toLowerCase()));setfilteredrest(filteredres);},children:\"Search\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"px-4 py-2 bg-pink-200 text-pink-800 font-semibold rounded-lg border-2 border-pink-700 hover:bg-pink-300 transition duration-300\",onClick:()=>{const topRated=listofrest.filter(res=>res.info&&res.info.avgRating&&res.info.avgRating>4.5);if(topRated.length===0){alert(\"No top-rated restaurants found!\");}setfilteredrest(topRated);},children:\"\\u2B50 Top Rated Restaurants\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-wrap gap-6 justify-center md:justify-normal items-center pl-6\",children:filteredrest.map(restaurant=>/*#__PURE__*/_jsx(Link,{to:\"/resturant/\"+restaurant.info.id,children:/*#__PURE__*/_jsx(Cardresto,{Data:restaurant})},restaurant.info.id))})]});};export default Bodycontainer;","map":{"version":3,"names":["useState","useEffect","Cardresto","Shimmer","Link","useActivestatus","jsx","_jsx","jsxs","_jsxs","slideshowImages","Bodycontainer","listofrest","setlistofrest","searchtext","setsearchtext","filteredrest","setfilteredrest","currentSlide","setCurrentSlide","fetchData","_json$data","_json$data$cards$","_json$data$cards$$car","_json$data$cards$$car2","_json$data$cards$$car3","_json$data$cards$$car4","_json$data2","_json$data2$cards$","_json$data2$cards$$ca","_json$data2$cards$$ca2","_json$data2$cards$$ca3","_json$data2$cards$$ca4","data","fetch","json","cards","card","gridElements","infoWithStyle","restaurants","activestatus","children","className","prevSlide","prev","length","nextSlide","src","alt","onClick","map","_","index","type","placeholder","value","onChange","e","target","filteredres","filter","res","info","name","toLowerCase","includes","topRated","avgRating","alert","restaurant","to","id","Data"],"sources":["E:/foodproject/src/Components/Bodycontainer.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport Cardresto from './Cardresto'; \r\nimport Shimmer from './Shimmer';\r\nimport { Link } from 'react-router';\r\nimport useActivestatus from './custom hooks/useActivestatus';\r\n\r\nconst slideshowImages = [\r\n  '3876105.jpg',\r\n  '10143605.jpg',\r\n  '3896166.jpg',\r\n];\r\n\r\nconst Bodycontainer = () => {\r\n  const [listofrest, setlistofrest] = useState([]);\r\n  const [searchtext, setsearchtext] = useState(\"\");\r\n  const [filteredrest, setfilteredrest] = useState([]);\r\n  const [currentSlide, setCurrentSlide] = useState(0);\r\n\r\n  useEffect(() => {\r\n    fetchData();\r\n  }, []);\r\n\r\n  const fetchData = async () => {\r\n    const data = await fetch(\r\n      '/dapi/restaurants/list/v5?lat=12.9352403&lng=77.624532&is-seo-homepage-enabled=true&page_type=DESKTOP_WEB_LISTING'\r\n    );\r\n    const json = await data.json();\r\n    setlistofrest(json?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants);\r\n    setfilteredrest(json?.data?.cards[1]?.card?.card?.gridElements?.infoWithStyle?.restaurants);\r\n  };\r\n\r\n  const activestatus = useActivestatus();\r\n  if (activestatus === false) {\r\n    return (\r\n      <div>\r\n        <h1 className='font-extrabold text-center mt-6'>OOPS you lost internet connection !!!!!!</h1>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const prevSlide = () => {\r\n    setCurrentSlide((prev) => (prev === 0 ? slideshowImages.length - 1 : prev - 1));\r\n  };\r\n\r\n  const nextSlide = () => {\r\n    setCurrentSlide((prev) => (prev === slideshowImages.length - 1 ? 0 : prev + 1));\r\n  };\r\n\r\n  return listofrest.length === 0 ? (\r\n    <Shimmer />\r\n  ) : (\r\n    <div className=\"flex flex-col items-center w-full\">\r\n      \r\n      <div className=\"relative w-full max-w-6xl overflow-hidden rounded-lg mb-8 mt-6\">\r\n        <img\r\n          src={slideshowImages[currentSlide]}\r\n          alt={`slide-${currentSlide}`}\r\n          className=\"w-full h-60 md:h-96 object-cover\"\r\n        />\r\n        \r\n        <button\r\n          onClick={prevSlide}\r\n          className=\"absolute top-1/2 left-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70 transition\"\r\n        >\r\n          &#10094;\r\n        </button>\r\n        \r\n        <button\r\n          onClick={nextSlide}\r\n          className=\"absolute top-1/2 right-2 transform -translate-y-1/2 bg-black bg-opacity-40 text-white p-2 rounded-full hover:bg-opacity-70 transition\"\r\n        >\r\n          &#10095;\r\n        </button>\r\n        \r\n        <div className=\"absolute bottom-3 left-1/2 transform -translate-x-1/2 flex space-x-2\">\r\n          {slideshowImages.map((_, index) => (\r\n            <button\r\n              key={index}\r\n              onClick={() => setCurrentSlide(index)}\r\n              className={`w-3 h-3 rounded-full ${\r\n                index === currentSlide ? 'bg-pink-500' : 'bg-gray-300'\r\n              }`}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n     \r\n      <div className=\"flex justify-center items-center space-x-4 p-4 w-full max-w-6xl\">\r\n        <div className=\"flex items-center space-x-2 bg-white p-2 rounded-lg shadow-sm flex-1\">\r\n          <input\r\n            className=\"border border-gray-300 rounded-lg text-sm p-2 w-full focus:outline-none focus:ring-2 focus:ring-pink-500\"\r\n            type=\"text\"\r\n            placeholder=\"Search for Restaurant\"\r\n            value={searchtext}\r\n            onChange={(e) => setsearchtext(e.target.value)}\r\n          />\r\n          <button\r\n            className=\"px-4 py-2 bg-pink-500 text-white rounded-lg hover:bg-pink-600 transition duration-300\"\r\n            onClick={() => {\r\n              const filteredres = listofrest.filter((res) =>\r\n                res.info.name.toLowerCase().includes(searchtext.toLowerCase())\r\n              );\r\n              setfilteredrest(filteredres);\r\n            }}\r\n          >\r\n            Search\r\n          </button>\r\n        </div>\r\n\r\n        <button\r\n          className=\"px-4 py-2 bg-pink-200 text-pink-800 font-semibold rounded-lg border-2 border-pink-700 hover:bg-pink-300 transition duration-300\"\r\n          onClick={() => {\r\n            const topRated = listofrest.filter(\r\n              (res) => res.info && res.info.avgRating && res.info.avgRating > 4.5\r\n            );\r\n\r\n            if (topRated.length === 0) {\r\n              alert(\"No top-rated restaurants found!\");\r\n            }\r\n\r\n            setfilteredrest(topRated);\r\n          }}\r\n        >\r\n          ⭐ Top Rated Restaurants\r\n        </button>\r\n      </div>\r\n\r\n      \r\n      <div className=\"flex flex-wrap gap-6 justify-center md:justify-normal items-center pl-6\">\r\n        {filteredrest.map((restaurant) => (\r\n          <Link key={restaurant.info.id} to={\"/resturant/\" + restaurant.info.id}>\r\n            <Cardresto Data={restaurant} />\r\n          </Link>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Bodycontainer;\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,OAASC,IAAI,KAAQ,cAAc,CACnC,MAAO,CAAAC,eAAe,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE7D,KAAM,CAAAC,eAAe,CAAG,CACtB,aAAa,CACb,cAAc,CACd,aAAa,CACd,CAED,KAAM,CAAAC,aAAa,CAAGA,CAAA,GAAM,CAC1B,KAAM,CAACC,UAAU,CAAEC,aAAa,CAAC,CAAGb,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACc,UAAU,CAAEC,aAAa,CAAC,CAAGf,QAAQ,CAAC,EAAE,CAAC,CAChD,KAAM,CAACgB,YAAY,CAAEC,eAAe,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACpD,KAAM,CAACkB,YAAY,CAAEC,eAAe,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CAEnDC,SAAS,CAAC,IAAM,CACdmB,SAAS,CAAC,CAAC,CACb,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,SAAS,CAAG,KAAAA,CAAA,GAAY,KAAAC,UAAA,CAAAC,iBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,WAAA,CAAAC,kBAAA,CAAAC,qBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAAAC,sBAAA,CAC5B,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAC,KAAK,CACtB,mHACF,CAAC,CACD,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAF,IAAI,CAACE,IAAI,CAAC,CAAC,CAC9BtB,aAAa,CAACsB,IAAI,SAAJA,IAAI,kBAAAd,UAAA,CAAJc,IAAI,CAAEF,IAAI,UAAAZ,UAAA,kBAAAC,iBAAA,CAAVD,UAAA,CAAYe,KAAK,CAAC,CAAC,CAAC,UAAAd,iBAAA,kBAAAC,qBAAA,CAApBD,iBAAA,CAAsBe,IAAI,UAAAd,qBAAA,kBAAAC,sBAAA,CAA1BD,qBAAA,CAA4Bc,IAAI,UAAAb,sBAAA,kBAAAC,sBAAA,CAAhCD,sBAAA,CAAkCc,YAAY,UAAAb,sBAAA,kBAAAC,sBAAA,CAA9CD,sBAAA,CAAgDc,aAAa,UAAAb,sBAAA,iBAA7DA,sBAAA,CAA+Dc,WAAW,CAAC,CACzFvB,eAAe,CAACkB,IAAI,SAAJA,IAAI,kBAAAR,WAAA,CAAJQ,IAAI,CAAEF,IAAI,UAAAN,WAAA,kBAAAC,kBAAA,CAAVD,WAAA,CAAYS,KAAK,CAAC,CAAC,CAAC,UAAAR,kBAAA,kBAAAC,qBAAA,CAApBD,kBAAA,CAAsBS,IAAI,UAAAR,qBAAA,kBAAAC,sBAAA,CAA1BD,qBAAA,CAA4BQ,IAAI,UAAAP,sBAAA,kBAAAC,sBAAA,CAAhCD,sBAAA,CAAkCQ,YAAY,UAAAP,sBAAA,kBAAAC,sBAAA,CAA9CD,sBAAA,CAAgDQ,aAAa,UAAAP,sBAAA,iBAA7DA,sBAAA,CAA+DQ,WAAW,CAAC,CAC7F,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGpC,eAAe,CAAC,CAAC,CACtC,GAAIoC,YAAY,GAAK,KAAK,CAAE,CAC1B,mBACElC,IAAA,QAAAmC,QAAA,cACEnC,IAAA,OAAIoC,SAAS,CAAC,iCAAiC,CAAAD,QAAA,CAAC,0CAAwC,CAAI,CAAC,CAC1F,CAAC,CAEV,CAEA,KAAM,CAAAE,SAAS,CAAGA,CAAA,GAAM,CACtBzB,eAAe,CAAE0B,IAAI,EAAMA,IAAI,GAAK,CAAC,CAAGnC,eAAe,CAACoC,MAAM,CAAG,CAAC,CAAGD,IAAI,CAAG,CAAE,CAAC,CACjF,CAAC,CAED,KAAM,CAAAE,SAAS,CAAGA,CAAA,GAAM,CACtB5B,eAAe,CAAE0B,IAAI,EAAMA,IAAI,GAAKnC,eAAe,CAACoC,MAAM,CAAG,CAAC,CAAG,CAAC,CAAGD,IAAI,CAAG,CAAE,CAAC,CACjF,CAAC,CAED,MAAO,CAAAjC,UAAU,CAACkC,MAAM,GAAK,CAAC,cAC5BvC,IAAA,CAACJ,OAAO,GAAE,CAAC,cAEXM,KAAA,QAAKkC,SAAS,CAAC,mCAAmC,CAAAD,QAAA,eAEhDjC,KAAA,QAAKkC,SAAS,CAAC,gEAAgE,CAAAD,QAAA,eAC7EnC,IAAA,QACEyC,GAAG,CAAEtC,eAAe,CAACQ,YAAY,CAAE,CACnC+B,GAAG,CAAE,SAAS/B,YAAY,EAAG,CAC7ByB,SAAS,CAAC,kCAAkC,CAC7C,CAAC,cAEFpC,IAAA,WACE2C,OAAO,CAAEN,SAAU,CACnBD,SAAS,CAAC,sIAAsI,CAAAD,QAAA,CACjJ,QAED,CAAQ,CAAC,cAETnC,IAAA,WACE2C,OAAO,CAAEH,SAAU,CACnBJ,SAAS,CAAC,uIAAuI,CAAAD,QAAA,CAClJ,QAED,CAAQ,CAAC,cAETnC,IAAA,QAAKoC,SAAS,CAAC,sEAAsE,CAAAD,QAAA,CAClFhC,eAAe,CAACyC,GAAG,CAAC,CAACC,CAAC,CAAEC,KAAK,gBAC5B9C,IAAA,WAEE2C,OAAO,CAAEA,CAAA,GAAM/B,eAAe,CAACkC,KAAK,CAAE,CACtCV,SAAS,CAAE,wBACTU,KAAK,GAAKnC,YAAY,CAAG,aAAa,CAAG,aAAa,EACrD,EAJEmC,KAKN,CACF,CAAC,CACC,CAAC,EACH,CAAC,cAGN5C,KAAA,QAAKkC,SAAS,CAAC,iEAAiE,CAAAD,QAAA,eAC9EjC,KAAA,QAAKkC,SAAS,CAAC,sEAAsE,CAAAD,QAAA,eACnFnC,IAAA,UACEoC,SAAS,CAAC,0GAA0G,CACpHW,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,uBAAuB,CACnCC,KAAK,CAAE1C,UAAW,CAClB2C,QAAQ,CAAGC,CAAC,EAAK3C,aAAa,CAAC2C,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE,CAChD,CAAC,cACFjD,IAAA,WACEoC,SAAS,CAAC,uFAAuF,CACjGO,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAAU,WAAW,CAAGhD,UAAU,CAACiD,MAAM,CAAEC,GAAG,EACxCA,GAAG,CAACC,IAAI,CAACC,IAAI,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAACpD,UAAU,CAACmD,WAAW,CAAC,CAAC,CAC/D,CAAC,CACDhD,eAAe,CAAC2C,WAAW,CAAC,CAC9B,CAAE,CAAAlB,QAAA,CACH,QAED,CAAQ,CAAC,EACN,CAAC,cAENnC,IAAA,WACEoC,SAAS,CAAC,iIAAiI,CAC3IO,OAAO,CAAEA,CAAA,GAAM,CACb,KAAM,CAAAiB,QAAQ,CAAGvD,UAAU,CAACiD,MAAM,CAC/BC,GAAG,EAAKA,GAAG,CAACC,IAAI,EAAID,GAAG,CAACC,IAAI,CAACK,SAAS,EAAIN,GAAG,CAACC,IAAI,CAACK,SAAS,CAAG,GAClE,CAAC,CAED,GAAID,QAAQ,CAACrB,MAAM,GAAK,CAAC,CAAE,CACzBuB,KAAK,CAAC,iCAAiC,CAAC,CAC1C,CAEApD,eAAe,CAACkD,QAAQ,CAAC,CAC3B,CAAE,CAAAzB,QAAA,CACH,8BAED,CAAQ,CAAC,EACN,CAAC,cAGNnC,IAAA,QAAKoC,SAAS,CAAC,yEAAyE,CAAAD,QAAA,CACrF1B,YAAY,CAACmC,GAAG,CAAEmB,UAAU,eAC3B/D,IAAA,CAACH,IAAI,EAA0BmE,EAAE,CAAE,aAAa,CAAGD,UAAU,CAACP,IAAI,CAACS,EAAG,CAAA9B,QAAA,cACpEnC,IAAA,CAACL,SAAS,EAACuE,IAAI,CAAEH,UAAW,CAAE,CAAC,EADtBA,UAAU,CAACP,IAAI,CAACS,EAErB,CACP,CAAC,CACC,CAAC,EACH,CACN,CACH,CAAC,CAED,cAAe,CAAA7D,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}