{"ast":null,"code":"var _jsxFileName = \"E:\\\\foodproject\\\\src\\\\Components\\\\Resturanmenu.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router';\nimport Shimmer from './Shimmer';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Resturanmenu = () => {\n  _s();\n  var _menu$cards, _menu$cards$, _menu$cards$$card, _menu$cards$$card$car, _menu$cards2, _menu$cards2$, _menu$cards2$$grouped, _menu$cards2$$grouped2, _menu$cards2$$grouped3, _menu$cards2$$grouped4, _menu$cards2$$grouped5, _menu$cards2$$grouped6;\n  const [menu, setmenu] = useState(null);\n  const {\n    resid\n  } = useParams(); // Access the restaurant ID from the URL\n\n  useEffect(() => {\n    if (resid) {\n      fetchmenu();\n    }\n  }, [resid]); // Add resid as dependency to re-fetch when resid changes\n\n  async function fetchmenu() {\n    try {\n      const data = await fetch(`https://www.swiggy.com/dapi/menu/pl?page-type=REGULAR_MENU&complete-menu=true&lat=12.9352403&lng=77.624532&restaurantId=${resid}&submitAction=ENTER`);\n      const json = await data.json();\n      console.log(json); // Log the full API response to see the structure\n      setmenu(json.data); // Set the fetched menu data\n    } catch (error) {\n      console.error(\"Error fetching menu:\", error);\n    }\n  }\n\n  // Early return with Shimmer component if menu data is not available yet\n  if (!menu) return /*#__PURE__*/_jsxDEV(Shimmer, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 23\n  }, this);\n\n  // Safely destructure the properties after ensuring menu exists\n  const cardInfo = menu === null || menu === void 0 ? void 0 : (_menu$cards = menu.cards) === null || _menu$cards === void 0 ? void 0 : (_menu$cards$ = _menu$cards[2]) === null || _menu$cards$ === void 0 ? void 0 : (_menu$cards$$card = _menu$cards$.card) === null || _menu$cards$$card === void 0 ? void 0 : (_menu$cards$$card$car = _menu$cards$$card.card) === null || _menu$cards$$card$car === void 0 ? void 0 : _menu$cards$$card$car.info;\n  const {\n    name,\n    avgRating,\n    totalRatingsString,\n    costForTwoMessage,\n    cuisines\n  } = cardInfo || {};\n\n  // Safely access itemCards\n  const itemCards = (menu === null || menu === void 0 ? void 0 : (_menu$cards2 = menu.cards) === null || _menu$cards2 === void 0 ? void 0 : (_menu$cards2$ = _menu$cards2[4]) === null || _menu$cards2$ === void 0 ? void 0 : (_menu$cards2$$grouped = _menu$cards2$.groupedCard) === null || _menu$cards2$$grouped === void 0 ? void 0 : (_menu$cards2$$grouped2 = _menu$cards2$$grouped.cardGroupMap) === null || _menu$cards2$$grouped2 === void 0 ? void 0 : (_menu$cards2$$grouped3 = _menu$cards2$$grouped2.REGULAR) === null || _menu$cards2$$grouped3 === void 0 ? void 0 : (_menu$cards2$$grouped4 = _menu$cards2$$grouped3.cards[2]) === null || _menu$cards2$$grouped4 === void 0 ? void 0 : (_menu$cards2$$grouped5 = _menu$cards2$$grouped4.card) === null || _menu$cards2$$grouped5 === void 0 ? void 0 : (_menu$cards2$$grouped6 = _menu$cards2$$grouped5.card) === null || _menu$cards2$$grouped6 === void 0 ? void 0 : _menu$cards2$$grouped6.itemCards) || [];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [name && /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 22\n    }, this), avgRating && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: avgRating\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 27\n    }, this), totalRatingsString && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: totalRatingsString\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 36\n    }, this), costForTwoMessage && /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: costForTwoMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 35\n    }, this), cuisines && /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: cuisines.join(\", \")\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 26\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Menu\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: itemCards.length > 0 ? itemCards.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: [item.card.info.name, \" \", \"Rs-\", item.card.info.defaultPrice / 100 || item.card.info.price / 100]\n      }, item.card.info.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 25\n      }, this)) : /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"No items available\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 9\n  }, this);\n};\n_s(Resturanmenu, \"8usQzrOIvBJdC4EBgiOVgsdmJZE=\", false, function () {\n  return [useParams];\n});\n_c = Resturanmenu;\nexport default Resturanmenu;\nvar _c;\n$RefreshReg$(_c, \"Resturanmenu\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Shimmer","jsxDEV","_jsxDEV","Resturanmenu","_s","_menu$cards","_menu$cards$","_menu$cards$$card","_menu$cards$$card$car","_menu$cards2","_menu$cards2$","_menu$cards2$$grouped","_menu$cards2$$grouped2","_menu$cards2$$grouped3","_menu$cards2$$grouped4","_menu$cards2$$grouped5","_menu$cards2$$grouped6","menu","setmenu","resid","fetchmenu","data","fetch","json","console","log","error","fileName","_jsxFileName","lineNumber","columnNumber","cardInfo","cards","card","info","name","avgRating","totalRatingsString","costForTwoMessage","cuisines","itemCards","groupedCard","cardGroupMap","REGULAR","children","join","length","map","item","defaultPrice","price","id","_c","$RefreshReg$"],"sources":["E:/foodproject/src/Components/Resturanmenu.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport Shimmer from './Shimmer';\r\n\r\nconst Resturanmenu = () => {\r\n    const [menu, setmenu] = useState(null);\r\n    const { resid } = useParams(); // Access the restaurant ID from the URL\r\n\r\n    useEffect(() => {\r\n        if (resid) {\r\n            fetchmenu();\r\n        }\r\n    }, [resid]); // Add resid as dependency to re-fetch when resid changes\r\n\r\n    async function fetchmenu() {\r\n        try {\r\n            const data = await fetch(`https://www.swiggy.com/dapi/menu/pl?page-type=REGULAR_MENU&complete-menu=true&lat=12.9352403&lng=77.624532&restaurantId=${resid}&submitAction=ENTER`);\r\n            const json = await data.json();\r\n            console.log(json); // Log the full API response to see the structure\r\n            setmenu(json.data); // Set the fetched menu data\r\n        } catch (error) {\r\n            console.error(\"Error fetching menu:\", error);\r\n        }\r\n    }\r\n\r\n    // Early return with Shimmer component if menu data is not available yet\r\n    if (!menu) return <Shimmer />;\r\n\r\n    // Safely destructure the properties after ensuring menu exists\r\n    const cardInfo = menu?.cards?.[2]?.card?.card?.info;\r\n    const { name, avgRating, totalRatingsString, costForTwoMessage, cuisines } = cardInfo || {};\r\n\r\n    // Safely access itemCards\r\n    const itemCards = menu?.cards?.[4]?.groupedCard?.cardGroupMap?.REGULAR?.cards[2]?.card?.card?.itemCards || [];\r\n\r\n    return (\r\n        <div>\r\n            {name && <h1>{name}</h1>}\r\n            {avgRating && <h2>{avgRating}</h2>}\r\n            {totalRatingsString && <h2>{totalRatingsString}</h2>}\r\n            {costForTwoMessage && <h2>{costForTwoMessage}</h2>}\r\n            {cuisines && <h3>{cuisines.join(\", \")}</h3>}\r\n\r\n            <h1>Menu</h1>\r\n            <ul>\r\n                {itemCards.length > 0 ? (\r\n                    itemCards.map((item) => (\r\n                        <li key={item.card.info.id}>\r\n                            {item.card.info.name} {\"Rs-\"}\r\n                            {item.card.info.defaultPrice / 100 || item.card.info.price / 100}\r\n                        </li>\r\n                    ))\r\n                ) : (\r\n                    <li>No items available</li>\r\n                )}\r\n            </ul>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Resturanmenu;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}